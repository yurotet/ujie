webpackJsonp([1],{70:function(t,e,n){(function(e){n(71)(".userInfo .input-row input{width:65%;font-size:18px}.userInfo .input-row label{font-size:14px;color:#666}.userInfo select{margin-top:5px;width:65%;font-size:16px}.userInfo .input-row label.more{font-size:14px}");var i='<div v-component="view/regSteps" v-with="step:curStep"></div>\n  <div class="userInfo">\n  	 <form class="input-group">\n  		 <div class="input-row">			\n			<label>姓名</label>	\n			<input type="text" v-on="input:onInputChange" placeholder="真实姓名 (必填)" v-model="user.realname">			\n		</div>\n  	 	<div class="input-row">	\n			<label>性别</label>\n			<select v-on="change:onInputChange" options="sexList" v-model="user.sex"></select>			\n		</div>\n  		<div class="input-row">	\n  			<label>年龄</label>\n			<input v-on="input:onInputChange" type="number" min="18" max="60" placeholder="年龄 (必填)" v-model="user.age">\n		</div>\n		\n		<div class="input-row">	\n			<label>地址</label>		\n			<input v-on="input:onInputChange" type="text" placeholder="地址 (必填)" v-model="user.address">	\n		</div>\n\n		<div class="input-row">	\n			<label>手机</label>	\n			<input v-on="input:onInputChange" type="text" placeholder="手机 (必填)" v-model="user.mobile">	\n		</div>\n\n		<div class="input-row">	\n			<label>邮箱</label>	\n			<input v-on="input:onInputChange" type="text" placeholder="邮箱 (必填)" v-model="user.mailBox">	\n		</div>\n\n		<div class="input-row">	\n			<label>微信</label>	\n			<input v-on="input:onInputChange" type="text" placeholder="微信 (必填)" v-model="user.wechat">	\n		</div>\n\n		<div class="input-row">\n			<label>国家</label>\n			<select v-on="change:onInputChange" options="countryList" v-model="user.country"></select>	\n		</div>\n		<div class="input-row">	\n			<label>城市</label>		\n			<select v-on="change:onInputChange" options="cityList" v-model="user.city"></select>	\n		</div>\n\n		<div class="input-row">	\n			<label>导游证</label>		\n			<select v-on="change:onInputChange" options="yesnoList" v-model="user.hasGuideCer"></select>	\n		</div>		\n\n		<div class="input-row">	\n			<label>驾龄</label>		\n			<select v-on="change:onInputChange" options="yearRangeList" v-model="user.drivingExp"></select>	\n		</div>\n\n		<div class="input-row">	\n			<label class="more">从业时间</label>		\n			<select v-on="change:onInputChange" options="yearRangeList" v-model="user.workingExp"></select>	\n		</div>			\n	</form>\n</div>\n\n<button id="userInfoBtn" class="btn btn-positive btn-block" disabled="disabled" v-on="click: onSubmit">下一步, 上传认证照片</button>',r=n(72),o=n(89),s=n(68),a=(n(77),n(86)),c=n(87),u={NOT_REGED:1,GOTO_APP:2,READY_FOR_REG:3},l=r.extend({title:"我的认证",watch:{"user.country":function(t){this.$data.cityList=this.$data.allCityList[t],this.$data.user.city=this.$data.cityList[0].value}},data:function(){var t=[{value:"male",text:"男"},{value:"female",text:"女"}],e=[{value:"no",text:"无"},{value:"yes",text:"有"}],n=[{value:"1-3",text:"1-3年"},{value:"3-5",text:"3-5年"},{value:"5+",text:"5年以上"}],i=c.flatten([t,e,n]);return a.set("infoTransList",i),{curStep:4,allCityList:{},countryList:[],cityList:[],sexList:t,yesnoList:e,yearRangeList:n,user:{sex:"male",hasGuideCer:"no",drivingExp:"1-3",workingExp:"1-3",city:"",age:"",realname:"",country:"",address:"",mobile:"",wechat:"",mailBox:""}}},methods:{checkSubmitBtn:function(){var t=!(this.$data.user.realname&&this.$data.user.age&&this.$data.user.mobile&&this.$data.user.mailBox&&this.$data.user.wechat),n=e("#userInfoBtn");t?n.attr("disabled","disabled"):n.removeAttr("disabled")},onInputChange:function(){a.set("user",this.$data.user),this.checkSubmitBtn()},_loadCountryInfo:function(){return new o(function(t,n){this.showLoading(),e.ajax({type:"GET",url:"/api/tags",dataType:"json",timeout:1e4,context:this,success:function(i){if(0==i.err_code){var r=[];e.each(i.data,function(t,n){r.push({value:t,text:n.name});var i=[];e.each(n.children,function(t,e){i.push({value:t,text:e})}),this.$data.allCityList[t]=i}.bind(this));var o=[];e.each(this.$data.allCityList,function(t,e){o=c.flatten([o,e])}),a.set("cityTransList",o),a.set("countryTransList",r),this.$data.countryList=r,this.$data.user.country=this.$data.countryList[0].value,t()}else this.showToast(i.err_msg,!0),n()},complete:function(){this.hideLoading()},error:function(t,e){n()}})}.bind(this))},onSubmit:function(){a.set("isRegLegal",!0),s.goTo("picupdate")},setHeader:function(){var t=".stepsContainer.index4 .step4",n=e(t),i=e(t+" a"),r=e(t+" .text");n.css("padding","3px"),n.css("margin-top","0"),i.css("width","100px"),i.css("height","60px"),i.css("line-height","60px"),i.css("background-color","#77c2a5"),r.css("display","inline-block"),r.css("opacity","1")},initData:function(){e.each(a.get("user"),function(t,e){""!=e&&(this.$data.user[t]=e)}.bind(this)),this.checkSubmitBtn()},_loadAuthStauts:function(){return new o(function(t,n){this.showLoading(),e.ajax({type:"GET",url:"/api/info",dataType:"json",timeout:1e4,context:this,success:function(e){if(0==e.err_code)switch(e.data.guide_auth){case"1":case"3":case"2":t(u.GOTO_APP);break;case"0":t(u.READY_FOR_REG);break;default:t(u.NOT_REGED)}else t(u.NOT_REGED)}.bind(this),complete:function(){this.hideLoading()},error:function(t){n()}})}.bind(this))},checkRegStatus:function(){this._loadAuthStauts().then(function(t){switch(t){case u.NOT_REGED:s.goTo("newUser");break;case u.GOTO_APP:s.goTo("downloadAPP");break;case u.READY_FOR_REG:s.goTo("register");break;default:s.goTo("notfound")}})["catch"](function(t){s.goTo("notfound")})}},created:function(){a.set("isRegLegal",!1),this._loadCountryInfo().then(this.initData)},resume:function(){this.setHeader(),this.checkRegStatus()},pause:function(){}});t.exports=l,("function"==typeof t.exports?t.exports.options:t.exports).template=i}).call(e,n(2))},71:function(t,e,n){var i={};t.exports=function(t,e){if(!i[t]){i[t]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=t:n.styleSheet.cssText=t;var r=document.getElementsByTagName("head")[0];e&&e.prepend?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)}}},72:function(t,e,n){(function(e){var i=n(68),r=n(6),o=n(84),s=r.extend({});o.mix(s.prototype,{name:"BagePage",startMode:"newinstance",intervalCounter:0,startPage:function(t){i.goTo(t)},startPageForResult:function(t,e){},back:function(){i.back()},hideToast:function(){var t=document.getElementById("toast");t&&(t.style.opacity=0,t.style.display="none",clearInterval(this.intervalCounter))},getParam:function(t){var e=window.location.hash,n=e.indexOf("?");if(-1!=n){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=e.substr(n+1).match(i);if(null!=r)return unescape(r[2])}return null},showToast:function(t,n){if(t){this.hideToast();var i=document.getElementById("toast");if(null==i){var r='<div id="toast">'+t+"</div>";document.body.insertAdjacentHTML("beforeEnd",r)}else e(i).text(t),i.style.display="block",i.style.opacity=.9;intervalCounter=setInterval(this.hideToast,n?2200:1300)}},showLoading:function(){e(".m-load2").css("display","block"),e(".js-loading").addClass("active"),setTimeout(this.hideLoading,1e4)},hideLoading:function(){e(".m-load2").css("display","none"),e(".js-loading").removeClass("active")}}),t.exports=s}).call(e,n(2))},77:function(t,e,n){n(71)("ul.breadcrumb{display:inline-block;list-style:none;margin:0}ul.breadcrumb li{float:right;padding:5px;background-color:#fff;-webkit-border-radius:50px;-moz-border-radius:50px;-ms-border-radius:50px;-o-border-radius:50px;border-radius:50px;position:relative;margin-left:-50px;-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;transition:all .2s;margin-top:3px}ul.breadcrumb li a{overflow:hidden;-webkit-border-radius:50px;-moz-border-radius:50px;-ms-border-radius:50px;-o-border-radius:50px;border-radius:50px;-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;transition:all .2s;text-decoration:none;height:50px;color:#509378;background-color:#65ba99;text-align:center;min-width:50px;display:block;line-height:50px;padding-left:52px;padding-right:33.33px;width:50px}ul.breadcrumb li a .icon{font-size:14px;display:inline-block}ul.breadcrumb li a .text{font-size:16px;font-weight:700;display:none;opacity:0}ul.breadcrumb li:last-child a{padding:0}.stepsContainer{text-align:center}");var i='<div class="stepsContainer index{{step}}">\n	<ul class="breadcrumb">\n	  <li class="step1"> \n	    <a>\n	      <span class="icon">4</span>\n	      <span class="text">确认提交</span>\n	    </a>\n	  </li>\n	  <li class="step2"> \n	    <a>\n	      <span class="icon">3</span>\n	      <span class="text">结算账户</span>\n	    </a>\n	  </li>\n	  <li class="step3">\n	    <a>\n	      <span class="icon">2</span>\n	      <span class="text">认证照片</span>\n	    </a>\n	  </li>	  \n	  <li class="step4">\n	    <a>\n	      <span class="icon">1</span>\n	       <span class="text">我的资料</span>\n	    </a>\n	  </li>\n	</ul>	\n</div>',r=n(78),o=n(6),s=r.extend({title:"regSteps",data:function(){return{step:1}},created:function(){}});t.exports=s,o.component("view/regSteps",s),("function"==typeof t.exports?t.exports.options:t.exports).template=i},78:function(t,e,n){var i=n(6),r=i.extend({onCreate:function(){},onResume:function(){},onPause:function(){}});t.exports=r},84:function(t,e,n){var i,r,o;!function(n,s){r=[],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(this,function(t){function e(t,e){var n=h(t);return n.constructor=e,n}function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){return function(){var e=arguments.callee;if(this&&this instanceof e){var n=t.apply(this,arguments);return n&&c(n)?n:this}return p["new"](e,arguments)}}var r=0,o=Object.prototype.toString,s=function(t){return"[object String]"==o.call(t)},a=function(t){return"[object Function]"==o.call(t)},c=function(t){return"[object Object]"==o.call(t)},u=function(t){return"[object Array]"==o.call(t)},l={}.__proto__==Object.prototype,h=function(t){var e,n=function(){};return Object.create?e=Object.create(t):(n.prototype=t,e=new n),e},f={constructorName:"__",autoSuperConstructor:!1,notUseNew:!0,useExtend:!0,useMixin:!0,useSuper:!0,disguise:!1,useConstructor:!0},p={uuid:function(t){return(t||"cls_")+(+new Date).toString(32)+(r++).toString(32)},Base:null,config:function(t){return s(t)?f[t]:c(t)?f=n(f,t):f},create:function(t){return p.inherit(p.Base||Object,t)},"new":function(t,e){if(a(t)){var n=h(t.prototype),i=t.apply(n,e||[]);return i&&c(i)?i:n}throw new Error("fatal error: $Class.new expects a constructor of class.")},inherit:function(t,n,r){if(a(t)){n=n||{},r=r||f.autoSuperConstructor;var o=n[f.constructorName]||function(){};delete n[f.constructorName];var s=function(){r&&t.apply(this,arguments);var e=o.apply(this,arguments);return e&&c(e)?e:void 0};return f.notUseNew&&(s=i(s)),f.disguise&&(s.name=o.name,s.length=o.length,s.toString=function(){return o.toString()}),l?s.prototype.__proto__=t.prototype:s.prototype=e(t.prototype,s),this.include(s,n),f.useSuper&&(s.$super=e(t.prototype,t)),f.useSuper&&(s.$constructor=o),f.useExtend&&(s.$extend=function(t,e){return p.inherit(this,t,e)}),f.useMixin&&(s.$mixin=function(t){return p.include(this,t)}),s}},include:function(t,e){if(a(t)||(t=function(){}),c(e))n(t.prototype,e);else if(u(e))for(var i=0;i<e.length;i++)c(e[i])&&n(t.prototype,e[i]);return t},singleton:function(t){var e,i=t[f.constructorName]||function(){},r={};return r[f.constructorName]=function(){return i.apply(this,arguments),e.$instance instanceof e?e.$instance:e.$instance=this},e=p.create(n(t||{},r))},clone:h,member:function(t){if(a(t)){for(var e=[],n={constructor:1},i=t.prototype;i&&i.constructor;i=i.constructor.prototype){for(var r in i)n[r]=1;if(i.constructor==t||i.constructor==Object)break}for(var o in n)e.push(o);return e}},mix:n};return p.Base=p.inherit(Object),t&&(t.$Class=p),p})},86:function(t,e,n){!function(n,i){"undefined"!=typeof t&&t.exports&&(e=t.exports=i(n,e))}(this,function(t,e){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=e);e>n;n++)if(n in this&&this[n]===t)return n;return-1}),e.prefix="",e._getPrefixedKey=function(t,e){return e=e||{},e.noPrefix?t:this.prefix+t},e.set=function(t,e,n){var i=this._getPrefixedKey(t,n);try{localStorage.setItem(i,JSON.stringify({data:e}))}catch(r){console&&console.warn("Lockr didn't successfully save the '{"+t+": "+e+"}' pair, because the localStorage is full.")}},e.get=function(t,e,n){var i,r=this._getPrefixedKey(t,n);try{i=JSON.parse(localStorage.getItem(r))}catch(o){i=null}return null===i?e:i.data||e},e.sadd=function(t,n,i){var r,o=this._getPrefixedKey(t,i),s=e.smembers(t);if(s.indexOf(n)>-1)return null;try{s.push(n),r=JSON.stringify({data:s}),localStorage.setItem(o,r)}catch(a){console.log(a),console&&console.warn("Lockr didn't successfully add the "+n+" to "+t+" set, because the localStorage is full.")}},e.smembers=function(t,e){var n,i=this._getPrefixedKey(t,e);try{n=JSON.parse(localStorage.getItem(i))}catch(r){n=null}return null===n?[]:n.data||[]},e.sismember=function(t,n,i){this._getPrefixedKey(t,i);return e.smembers(t).indexOf(n)>-1},e.getAll=function(){var t=Object.keys(localStorage);return t.map(function(t){return e.get(t)})},e.srem=function(t,n,i){var r,o,s=this._getPrefixedKey(t,i),a=e.smembers(t,n);o=a.indexOf(n),o>-1&&a.splice(o,1),r=JSON.stringify({data:a});try{localStorage.setItem(s,r)}catch(c){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+t)}},e.rm=function(t){localStorage.removeItem(t)},e.flush=function(){localStorage.clear()},e})}});